<mxfile host="65bd71144e">
    <diagram name="第 1 页" id="Ra7ZKa6CIQ58tCsG8z9o">
        <mxGraphModel dx="722" dy="801" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-1" target="mSORvB1VTS_9hqJ9OGle-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-1" value="socket接收字节数组" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-2" target="mSORvB1VTS_9hqJ9OGle-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-2" value="解析字节数组" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="160" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-4" target="mSORvB1VTS_9hqJ9OGle-5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-4" value="ReceiveCallbackFunction" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="1120" y="40" width="240" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-5" target="mSORvB1VTS_9hqJ9OGle-20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-5" target="mSORvB1VTS_9hqJ9OGle-22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-5" target="mSORvB1VTS_9hqJ9OGle-23" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-5" value="Generic_ReceiveHSMSMessage_Function" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="1100" y="160" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-7" target="mSORvB1VTS_9hqJ9OGle-9" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-7" target="mSORvB1VTS_9hqJ9OGle-11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-7" value="判断消息是否有效" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="280" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-9" value="如果无效则发送Reject.req并直接返回" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="560" y="280" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-11" target="mSORvB1VTS_9hqJ9OGle-13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-11" target="mSORvB1VTS_9hqJ9OGle-15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-11" target="mSORvB1VTS_9hqJ9OGle-16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-11" value="处理有效消息" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="400" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-13" target="mSORvB1VTS_9hqJ9OGle-26" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-13" value="主消息" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="520" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-15" target="mSORvB1VTS_9hqJ9OGle-41" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-15" value="次消息" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="520" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-16" target="mSORvB1VTS_9hqJ9OGle-62" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-16" value="控制消息" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="760" y="520" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-20" value="Generic_ReceivePrimaryMessage_Function" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="800" y="280" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-22" value="Generic_ReceiveSecondaryMessage_Function" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="1100" y="280" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-23" value="Generic_ReceiveControlMessage_Function" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="1400" y="280" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-26" target="mSORvB1VTS_9hqJ9OGle-28" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-26" value="更新SystemID" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="640" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-28" target="mSORvB1VTS_9hqJ9OGle-30" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-28" target="mSORvB1VTS_9hqJ9OGle-32" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-28" value="如果当前是OffLine状态，则判消息是否为S1F13/S1F17" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="-60" y="760" width="160" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-30" value="非S1F13/S1F17回复SnF0" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="-280" y="760" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-32" target="mSORvB1VTS_9hqJ9OGle-38" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="mSORvB1VTS_9hqJ9OGle-32" target="mSORvB1VTS_9hqJ9OGle-34" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-32" value="在Receive_ActionFunctionList中找到对应的接收处理函数" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="-80" y="880" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-34" value="未找到对应SnFn的处理函数，回复S9F3/S9F5" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="-290" y="880" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-38" value="可以理解为遍历所有标记了Handle.Receive的函数" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="-65" y="980" width="170" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-41" target="mSORvB1VTS_9hqJ9OGle-43" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-41" value="关闭Transaction" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="640" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-43" target="mSORvB1VTS_9hqJ9OGle-45" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-43" target="mSORvB1VTS_9hqJ9OGle-47" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-43" value="判断收到的消息是不是SnF0" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="360" y="760" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-45" value="在Receive_ActionFunctionList中找到对应的接收处理函数，找到就执行，找不到就结束。" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="280" y="880" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-47" value="是SnF0给出提示，直接返回" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="160" y="760" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-52" value="在Receive_ActionFunctionList中找到对应的接收处理函数，能找到就执行，找不到就结束。" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="680" y="760" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mSORvB1VTS_9hqJ9OGle-62" target="mSORvB1VTS_9hqJ9OGle-52" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mSORvB1VTS_9hqJ9OGle-62" value="更新SystemID/关闭Transaction" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;" parent="1" vertex="1">
                    <mxGeometry x="710" y="640" width="220" height="40" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>